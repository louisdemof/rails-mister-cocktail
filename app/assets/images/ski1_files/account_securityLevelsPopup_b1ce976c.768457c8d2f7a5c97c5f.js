/*! For license information please see account_securityLevelsPopup~b1ce976c.768457c8d2f7a5c97c5f.js.LICENSE.txt */
(window.webpackJsonpAem=window.webpackJsonpAem||[]).push([[63],{"0305cb38be37e24a8136":function(e,t,o){o.r(t),o.d(t,"SecurityLevelsPopupModule",(function(){return g}));var i=o("36db2995a5fd3f8cba2a"),s=o("33c8cca4ea5e7ad21208"),c=o("6a6e784eb3b0c774574d"),n=o("279f1c7ef5f95c5d63e2"),a=o.n(n),l=o("44f66236b3b7e4c0977a");const r=o("090e9306e9a0e459073f");class u{constructor(e,t){a()(this,"closePopup",()=>{this.loggingOut||(this.showPopup=!1)}),a()(this,"insidePopupClick",e=>{e.stopPropagation()}),a()(this,"isButtonLocked",()=>this.loggingOut),a()(this,"logoutAndRedirectClicked",()=>{this.loggingOut||this.logoutAndRedirect()}),a()(this,"logoutAndRedirect",()=>{this.loggingOut=!0,this.sessionService.logout().then(e=>{e.loggedout?(this.eventService.dispatch(l.a.USER_LOGGED_OUT),this.redirect()):this.logoutFailed()},e=>{this.logoutFailed()})}),a()(this,"redirect",()=>{window.location.href=SITE.Config.rootWithoutFinalSlash.toString()+"/account.html"}),this.SessionService=e,this.eventService=t,this.sessionService=e,this.eventService=t,this.showPopup=!1,this.errorLogout=!1,this.loggingOut=!1,this.eventService.listen(l.a.USER_SECURITY_LEVEL_TOO_LOW,e=>{this.showPopup=!0},!1)}logoutFailed(){this.loggingOut=!1,this.errorLogout=!0}}u.$inject=["SessionService","eventService"];const d={bindings:{},controller:u,controllerAs:"vm",template:r},p=[o("c74ea97474cb3148da14").a,s.CommonAsServicesModule],v=e=>{e.addPart("account")};v.$inject=["$translatePartialLoaderProvider"];const g=Object(i.module)(c.y,p).config(v).component("securityLevelsPopup",d).name},"090e9306e9a0e459073f":function(e,t){e.exports="<div class=backdrop data-ng-if=vm.showPopup data-ng-click=vm.closePopup()> <div class=popup data-ng-click=vm.insidePopupClick($event)> <div class=popup__icon data-ng-click=vm.closePopup()></div> <div class=popup__body> <div class=m-security-levels-popup> <div class=m-security-levels-popup__info> {{ 'account.security.levels.popup.info' | translate }} </div> <div class=m-security-levels-popup__button-container> <button class=\"btn btn--primary\" data-ng-class=\"{'locked': vm.isButtonLocked()}\" data-ng-click=vm.logoutAndRedirectClicked()> {{ 'account.security.levels.popup.button' | translate }} </button> </div> <div class=m-security-levels-popup__error data-ng-if=vm.errorLogout> {{ 'flyout.account.error.operation' | translate }} </div> </div> </div> </div> </div> "}}]);